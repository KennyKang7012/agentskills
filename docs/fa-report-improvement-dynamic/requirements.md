# 軟體需求文件 (PRD) - FA 報告動態優化

## 1. 專案背景
目前的 FA (Failure Analysis) 報告改善技能雖然能自動添加投影片，但其內容多為硬編碼 (Hardcoded) 的範本。即便前端 Web UI 透過優化提示詞 (Optimization Prompt) 產生了更精確、更具備參考價值的 JSON 評核結果，Python 改善腳本也未能將這些優化建議真正應用到生成的報告中。

## 2. 目標
將 `fa-report-improvement` 技能重構，使其具備動態解析評核 JSON 的能力，將 LLM 產生的具體改善對策、統計建議與總結文字，精確地填入 FA 報告中。

## 3. 功能需求
- **R1: 動態內容提取**：腳本必須能從 `evaluation_json` 中提取 `improvements` 與 `dimension_comments` 的具體建議，並根據維度（基本資訊、根因分析、改善對策等）進行分類。
- **R2: 投影片動態生成**：
    - 基本資訊頁：應顯示當前專案實例的資料，而非範本資料。
    - 根因分析頁：應顯示 LLM 建議的統計方法與驗證過程。
    - 預防措施頁：應顯示 LLM 基於問題點產生的長期解決方案。
- **R3: 總結頁佈局優化**：動態填入 `strengths` (優點)、`improvements` (改善點) 與 `summary` (總結)。
- **R4: 向後兼容性**：腳本應能處理不同格式的 JSON（Array 或 Object），並在建議缺失時提供優雅的降級處理（而非崩潰）。

## 4. 範疇
- **涵蓋範圍**：`scripts/improve_fa_report.py` 及其相關的輔助模組。
- **非涵蓋範圍**：修改 Web UI 的提示詞產生邏輯（假設 JSON 資料已經由前端/LLM 優化完成）。

## 5. 驗證標準
- 執行腳本後，產出的 PPTX 中新增加的投影片內容必須包含與輸入 JSON 文件一致的文字關鍵字。
- 無硬編碼的 placeholders (如 "AES2.0" 或 "1.8MHz") 出現在不符合該專案背景的報告中。
